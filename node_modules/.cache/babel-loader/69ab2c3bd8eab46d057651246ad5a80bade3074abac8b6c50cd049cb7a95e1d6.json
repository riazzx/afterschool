{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import \"bootstrap/dist/css/bootstrap.min.css\"\n// import \"bootstrap\"\nimport lessonsList from './components/LessonsList.vue';\nimport checkout from './components/CheckoutForm.vue';\nexport default {\n  name: 'App',\n  components: {\n    lessonsList,\n    checkout\n  },\n  data() {\n    return {\n      searchValue: '',\n      cart: [],\n      lessons: [],\n      showLessons: true\n    };\n  },\n  created: function () {\n    //fetching the lessons from server\n    // fetch('http://localhost:3000/collection/lessons').then(\n    // function(response){\n    //   response.json().then(\n    //     function(json){\n    //       this.lessons = json;\n    //       console.log(json)\n    //     });\n    //   });\n\n    fetch('http://localhost:3000/collection/lessons').then(response => {\n      response.json().then(json => {\n        this.lessons = json;\n        console.log(json);\n      });\n    });\n  },\n  methods: {\n    // toggle between cart and homepage\n    showCart() {\n      this.showLessons = this.showLessons ? false : true;\n    },\n    // add lesson to cart\n    addToCart(lesson) {\n      this.cart.push(lesson);\n      lesson.availableLessons--;\n    },\n    // remove lesson from cart\n    removeFromCart(lesson) {\n      // let count = 1;\n      lesson.availableLessons++;\n      for (let i = 0; i <= this.cart.length; i++) {\n        if (this.cart[i].id === lesson.id) {\n          this.cart.splice(i, 1);\n          break;\n        }\n      }\n    }\n  },\n  computed: {\n    // check number of items in cart\n    cartItemCount() {\n      return this.cart.length || '';\n    }\n    // search() {\n    //   let lessonsArray = this.lessons.slice(0);\n\n    //   // Process search input\n    //   if (this.searchValue != '' && this.searchValue) {\n    //     lessonsArray = lessonsArray.filter((item) => {\n    //       return item.title\n    //       .toUpperCase()\n    //       .includes(this.searchValue.toUpperCase()) \n    //       || item.location\n    //       .toUpperCase()\n    //       .includes(this.searchValue.toUpperCase())\n    //     })\n    //   }\n    //   return lessonsArray\n    // }\n  }\n};","map":{"version":3,"names":["lessonsList","checkout","name","components","data","searchValue","cart","lessons","showLessons","created","fetch","then","response","json","console","log","methods","showCart","addToCart","lesson","push","availableLessons","removeFromCart","i","length","id","splice","computed","cartItemCount"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <!-- Google Font -->\n    <link href=\"https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@1,900&display=swap\" rel=\"stylesheet\">\n    <!-- Font Awesome -->\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css\">\n    <!-- Custom Styles -->\n    <link rel=\"stylesheet\" href=\"styles.css\">\n\n    \n   \n\n    <!-- navbar -->\n      <nav id=\"navbar\" class=\"navbar navbar-expand-lg navbar-dark bg-transparent fixed-top\">\n            <div class=\"container-fluid\">\n              <a class=\"navbar-brand\" href=\"index.html\">After School</a>\n              <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span class=\"navbar-toggler-icon\"></span>\n              </button>\n              <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                  <li class=\"nav-item\">\n                    <a class=\"nav-link active\" aria-current=\"page\" href=\"#app\">Home</a>\n                  </li>\n                </ul>\n\n                <div class=\"col-md-8\">\n                  <form class=\"d-flex\" role=\"search\">\n                    <input class=\"form-control me-4 bg-light\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" v-model=\"searchValue\" id=\"search-input\">\n                  </form>\n                \n                  </div>\n                  \n                <ul class=\"navbar-nav  me-2\">\n                    <li class=\"nav-item\">\n                      <a class=\"nav-link\" v-on:click=\"showCart\" v-if=\"cartItemCount >= 1\">  Cart <span class=\"badge bg-secondary\">{{cartItemCount}}</span></a>\n                      <a class=\"nav-link\" v-else> Cart</a>\n                    </li>\n                </ul>\n              </div>\n            </div>\n    </nav>\n\n\n\n    <div v-if=\"showLessons\">\n            <!-- banner -->\n          <div class=\"card text-bg-dark\" id=\"banner\">\n            <div class=\"card-img-overlay\" >\n              <h5 id=\"banner-title\" class=\"card-title\">AFTER SCHOOL</h5>\n              <p  id=\"banner-text\" class=\"card-text\">Classes for your kids to learn exciting, new things after school.</p>\n              <div class=\"text-center\">\n                <button id=\"banner-button\" type=\"button\" class=\"btn   btn-lg \" onClick=\"document.getElementById('lessons').scrollIntoView();\">Book a Lesson</button>\n              </div>  \n            </div>\n          </div>\n\n         \n\n         <!-- sort and filter toolbar -->\n          <!-- <div  class=\"btn-toolbar justify-content-evenly\" role=\"toolbar\">\n            \n               <p class=\"sort-label\">Sort By:</p>\n            <select name=\"sortBy\" id=\"sort-btn\" v-model=\"sortBy\" class=\"form-select-lg   \" aria-label=\".form-select-lg example\">\n              <option class=\"text-center\" value=\"subject\">Subject</option>\n              <option class=\"text-center\" value=\"location\">Location</option>\n              <option class=\"text-center\" value=\"availability\">Availability</option>\n              <option class=\"text-center\" value=\"price\">Price</option>             \n            </select>\n             <p class=\"sort-label\"> Sort In:</p>\n            <button id=\"sort-btn\" type=\"button\" class=\"btn btn-warning\" v-on:click=\"ascending = !ascending\" >\n               <span v-if=\"ascending\" class=\"fa fa-sort-up\">Ascending</span>\n              <span v-else class=\"fa fa-sort-down\">Descending</span>\n            </button>\n          </div> -->\n\n          <!-- lessons cards  -->\n          <div  >\n              <!-- for loop to display all lessons -->\n            <lessons-list :lessons=\"lessons\" @addLesson=\"addToCart\"></lessons-list>\n          </div>\n\n          \n         \n\n\n        \n\n          \n    </div>\n\n    <!-- show cart -->\n    <div v-else>\n            <!-- checkout banner -->\n            <div class=\"card text-bg-dark\" id=\"banner\">\n              <div class=\"card-img-overlay\" >\n                <h5 id=\"banner-title\" class=\"card-title\">CHECKOUT</h5>\n              </div>\n            </div>\n\n            <!-- show cart items -->\n            <div   v-if=\"this.cart.length > 0\">\n              <div >\n\n              <!-- lessons added in cart -->\n              <checkout :cart=\"cart\" @removeLesson=\"removeFromCart\"></checkout>\n            </div>\n\n            <!-- checkout form -->\n            \n             \n            </div>\n\n            <!-- show cart empty if all items removed from cart -->\n            <div class=\"card text-bg-dark\" id=\"cart-empty\" v-else>\n              <div  class=\"card-img-overlay\" >\n                <h5 id=\"banner-title\" class=\"card-title\">OOPS.. THE CART IS EMPTY</h5>\n                <button  type=\"button\"   v-on:click=\"showCart\" class=\"btn btn-lg btn-warning align-content-center\">Add Lessons</button>\n              </div>\n            </div>\n          </div>\n\n\n                  <!-- FOOTER -->\n                  <footer>\n            <div class=\"copyright\">\n              <p id=\"copyr\">&copy; 2022 - CST3145 Coursework 1 by zx</p>\n            </div>\n            <div class=\"social\">\n              <a id=\"link\" href=\"#\" class=\"support\">Contact Us</a>\n              <a id=\"link\" href=\"#\" class=\"face\">f</a>\n              <a id=\"link\" href=\"#\" class=\"tweet\">t</a>\n              <a id=\"link\" href=\"#\" class=\"linked\">in</a>\n            </div>\n          </footer>\n\n    \n\n\n  </div>\n</template>\n\n<script>\n// import \"bootstrap/dist/css/bootstrap.min.css\"\n// import \"bootstrap\"\nimport lessonsList from './components/LessonsList.vue'\nimport checkout from './components/CheckoutForm.vue'\n\nexport default {\n  name: 'App',\n  components: {\n   lessonsList, checkout\n  },\n  data () {\n    return {\n      searchValue: '',\n      cart: [],\n      lessons: [],\n      showLessons:true,\n      \n      \n    }\n  },\n  created: function(){\n\n\n    //fetching the lessons from server\n    // fetch('http://localhost:3000/collection/lessons').then(\n    // function(response){\n    //   response.json().then(\n    //     function(json){\n    //       this.lessons = json;\n    //       console.log(json)\n    //     });\n    //   });\n\n\n      fetch('http://localhost:3000/collection/lessons').then( response => {\n        response.json().then(json => {\n            this.lessons = json;\n            console.log(json);\n        } ); });\n  },\n  methods: {\n    // toggle between cart and homepage\n    showCart() {\n      this.showLessons = this.showLessons ? false : true;\n    },\n    // add lesson to cart\n    addToCart(lesson){\n      this.cart.push(lesson);\n      lesson.availableLessons--;\n    },\n    // remove lesson from cart\n    removeFromCart(lesson) {\n      // let count = 1;\n      lesson.availableLessons++;\n      for(let i = 0; i <= this.cart.length; i++){\n        if(this.cart[i].id === lesson.id){\n          this.cart.splice(i,1);\n          break;\n        }\n      }\n     },\n    \n  },\n  computed: {\n    // check number of items in cart\n    cartItemCount() {\n      return this.cart.length || ''\n    },\n    // search() {\n    //   let lessonsArray = this.lessons.slice(0);\n\n    //   // Process search input\n    //   if (this.searchValue != '' && this.searchValue) {\n    //     lessonsArray = lessonsArray.filter((item) => {\n    //       return item.title\n    //       .toUpperCase()\n    //       .includes(this.searchValue.toUpperCase()) \n    //       || item.location\n    //       .toUpperCase()\n    //       .includes(this.searchValue.toUpperCase())\n    //     })\n    //   }\n    //   return lessonsArray\n    // }\n  }\n\n\n}\n</script>\n\n\n"],"mappings":";AA+IA;AACA;AACA,OAAAA,WAAA;AACA,OAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH,WAAA;IAAAC;EACA;EACAG,KAAA;IACA;MACAC,WAAA;MACAC,IAAA;MACAC,OAAA;MACAC,WAAA;IAGA;EACA;EACAC,OAAA,WAAAA,CAAA;IAGA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAGAC,KAAA,6CAAAC,IAAA,CAAAC,QAAA;MACAA,QAAA,CAAAC,IAAA,GAAAF,IAAA,CAAAE,IAAA;QACA,KAAAN,OAAA,GAAAM,IAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,IAAA;MACA;IAAA;EACA;EACAG,OAAA;IACA;IACAC,SAAA;MACA,KAAAT,WAAA,QAAAA,WAAA;IACA;IACA;IACAU,UAAAC,MAAA;MACA,KAAAb,IAAA,CAAAc,IAAA,CAAAD,MAAA;MACAA,MAAA,CAAAE,gBAAA;IACA;IACA;IACAC,eAAAH,MAAA;MACA;MACAA,MAAA,CAAAE,gBAAA;MACA,SAAAE,CAAA,MAAAA,CAAA,SAAAjB,IAAA,CAAAkB,MAAA,EAAAD,CAAA;QACA,SAAAjB,IAAA,CAAAiB,CAAA,EAAAE,EAAA,KAAAN,MAAA,CAAAM,EAAA;UACA,KAAAnB,IAAA,CAAAoB,MAAA,CAAAH,CAAA;UACA;QACA;MACA;IACA;EAEA;EACAI,QAAA;IACA;IACAC,cAAA;MACA,YAAAtB,IAAA,CAAAkB,MAAA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AAGA"},"metadata":{},"sourceType":"module","externalDependencies":[]}