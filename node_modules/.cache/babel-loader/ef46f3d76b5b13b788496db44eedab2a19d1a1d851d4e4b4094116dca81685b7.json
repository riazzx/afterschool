{"ast":null,"code":"export default {\n  name: \"LessonsList\",\n  props: ['lessons'],\n  data() {},\n  methods: {\n    addToCart(lesson) {\n      console.log(\"added lesson\", lesson.id);\n      this.$emit('addLesson', lesson);\n    },\n    canAddToCart(lesson) {\n      return lesson.availableLessons > this.cartCount(lesson.id);\n    },\n    // check number of items in cart\n    cartCount(id) {\n      let count = 0;\n      for (let i = 0; i < this.cart.length; i++) {\n        if (this.cart[i] === id) {\n          count++;\n        }\n      }\n      return count;\n    }\n  }\n  // computed:  {\n  //     // sort lessons array\n  //     sortedLessons() {\n  //             let lessonsArray = this.lessons.slice(0)\n\n  //               lessonsArray = lessonsArray.sort((a,b) => {\n  //                 if (this.sortBy === 'subject') {\n  //                   let fa = a.title.toLowerCase(), fb = b.title.toLowerCase();\n  //                   if (fa < fb) {\n  //                     return -1\n  //                   }\n  //                 if (fa > fb) {\n  //                   return 1\n  //                 }\n  //                 return 0\n  //               } else if (this.sortBy === 'price') {\n  //                 return a.price - b.price\n  //               } else if (this.sortBy === 'availability') {\n  //                 return a.availableLessons - b.availableLessons\n  //               } else if(this.sortBy === 'location') {\n  //                 let fa = a.location.toLowerCase(), fb = b.location.toLowerCase();\n  //                   if (fa < fb) {\n  //                     return -1\n  //                   }\n  //                 if (fa > fb) {\n  //                   return 1\n  //                 }\n  //                 return 0\n  //               }\n\n  //             })\n\n  //             if(!this.ascending) {\n  //               lessonsArray.reverse()\n  //             }\n  //             return lessonsArray\n  //           }\n  // }\n};","map":{"version":3,"names":["name","props","data","methods","addToCart","lesson","console","log","id","$emit","canAddToCart","availableLessons","cartCount","count","i","cart","length"],"sources":["src/components/LessonsList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n          <!-- lessons cards  -->\r\n          <div class=\"row row-cols-1 row-cols-md-3 g-3\" id=\"lessons\"  v-if=\"searchValue == ''\">\r\n              <!-- for loop to display all lessons -->\r\n            <div v-for=\"lesson in lessons\" :key=\"lesson.id\">\r\n                <div id=\"lesson\" class=\"card mb-3\" style=\"max-width: 540px;\">\r\n                    <div class=\"row g-0\">\r\n                      <div class=\"col-md-6 p-4\">\r\n                        <img v-bind:src=\"lesson.image\" class=\"img-fluid rounded-start\" alt=\"Math Lesson Icon\">\r\n                      </div>\r\n                      <div class=\"col-md-6\">\r\n                        <div class=\"card-body\">\r\n                          <h5 class=\"card-title text-light\" v-text=\"lesson.title\"></h5>\r\n                          <p class=\"card-text text-light\"><small class=\"text-light--muted\"  v-text=\"lesson.description\"></small></p>\r\n                          <p class=\"card-text text-light\" >Cost: <b>{{lesson.price}}</b>  dhs/month.</p>\r\n                          <p class=\"card-text text-light\"><small class=\"text-light--muted\"  >Location: {{lesson.location}}</small></p>\r\n                          <p class=\"card-text text-light\"><small class=\"text-light--muted\">Spaces: {{lesson.availableLessons}}</small></p>\r\n                          <button v-on:click=\"addToCart(lesson)\" v-if='canAddToCart(lesson)' type=\"button\" class=\"btn btn-outline-warning\"><span class=\"fas fa-cart-plus\"></span> Add to cart</button>\r\n                          <button disabled=\"disabled\" v-else type=\"button\" class=\"btn btn-secondary\"><span class=\"fas fa-cart-plus\"></span> Add to cart</button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    name: \"LessonsList\",\r\n    props:['lessons'],\r\n    data() {\r\n        \r\n    },\r\n    methods: {\r\n        addToCart(lesson) {\r\n            console.log(\"added lesson\", lesson.id)\r\n            this.$emit('addLesson', lesson)\r\n        },\r\n        canAddToCart(lesson){\r\n            return lesson.availableLessons > this.cartCount(lesson.id)\r\n        },\r\n        // check number of items in cart\r\n        cartCount(id) {\r\n                let count = 0;\r\n                for(let i=0; i < this.cart.length; i++){\r\n                  if(this.cart[i]===id){\r\n                    count++;\r\n                  }\r\n                }\r\n                return count;\r\n        },\r\n\r\n        \r\n    },\r\n    // computed:  {\r\n    //     // sort lessons array\r\n    //     sortedLessons() {\r\n    //             let lessonsArray = this.lessons.slice(0)\r\n                \r\n    //               lessonsArray = lessonsArray.sort((a,b) => {\r\n    //                 if (this.sortBy === 'subject') {\r\n    //                   let fa = a.title.toLowerCase(), fb = b.title.toLowerCase();\r\n    //                   if (fa < fb) {\r\n    //                     return -1\r\n    //                   }\r\n    //                 if (fa > fb) {\r\n    //                   return 1\r\n    //                 }\r\n    //                 return 0\r\n    //               } else if (this.sortBy === 'price') {\r\n    //                 return a.price - b.price\r\n    //               } else if (this.sortBy === 'availability') {\r\n    //                 return a.availableLessons - b.availableLessons\r\n    //               } else if(this.sortBy === 'location') {\r\n    //                 let fa = a.location.toLowerCase(), fb = b.location.toLowerCase();\r\n    //                   if (fa < fb) {\r\n    //                     return -1\r\n    //                   }\r\n    //                 if (fa > fb) {\r\n    //                   return 1\r\n    //                 }\r\n    //                 return 0\r\n    //               }\r\n                \r\n    //             })\r\n\r\n    //             if(!this.ascending) {\r\n    //               lessonsArray.reverse()\r\n    //             }\r\n    //             return lessonsArray\r\n    //           }\r\n    // }\r\n\r\n}\r\n</script>"],"mappings":"AA+BA;EACAA,IAAA;EACAC,KAAA;EACAC,KAAA,GAEA;EACAC,OAAA;IACAC,UAAAC,MAAA;MACAC,OAAA,CAAAC,GAAA,iBAAAF,MAAA,CAAAG,EAAA;MACA,KAAAC,KAAA,cAAAJ,MAAA;IACA;IACAK,aAAAL,MAAA;MACA,OAAAA,MAAA,CAAAM,gBAAA,QAAAC,SAAA,CAAAP,MAAA,CAAAG,EAAA;IACA;IACA;IACAI,UAAAJ,EAAA;MACA,IAAAK,KAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,QAAAC,IAAA,CAAAC,MAAA,EAAAF,CAAA;QACA,SAAAC,IAAA,CAAAD,CAAA,MAAAN,EAAA;UACAK,KAAA;QACA;MACA;MACA,OAAAA,KAAA;IACA;EAGA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA;EACA;EACA;EACA;EACA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}