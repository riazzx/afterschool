{"ast":null,"code":"export default {\n  name: \"LessonsList\",\n  props: ['lessons'],\n  data() {\n    return {\n      ascending: true,\n      sortBy: 'subject',\n      searchValue: ''\n    };\n  },\n  methods: {\n    addToCart(lesson) {\n      console.log(\"added lesson\", lesson.id);\n      this.$emit('addLesson', lesson);\n    },\n    canAddToCart(lesson) {\n      return lesson.availableLessons > 0;\n    }\n    // check number of items in cart\n  },\n\n  computed: {\n    // sort lessons array\n    sortedLessons() {\n      let lessonsArray = this.lessons.slice(0);\n\n      // Process search input\n      if (this.searchValue != '' && this.searchValue) {\n        lessonsArray = lessonsArray.filter(item => {\n          return item.title.toUpperCase().includes(this.searchValue.toUpperCase()) || item.location.toUpperCase().includes(this.searchValue.toUpperCase());\n        });\n      }\n      lessonsArray = lessonsArray.sort((a, b) => {\n        if (this.sortBy === 'subject') {\n          let fa = a.title.toLowerCase(),\n            fb = b.title.toLowerCase();\n          if (fa < fb) {\n            return -1;\n          }\n          if (fa > fb) {\n            return 1;\n          }\n          return 0;\n        } else if (this.sortBy === 'price') {\n          return a.price - b.price;\n        } else if (this.sortBy === 'availability') {\n          return a.availableLessons - b.availableLessons;\n        } else if (this.sortBy === 'location') {\n          let fa = a.location.toLowerCase(),\n            fb = b.location.toLowerCase();\n          if (fa < fb) {\n            return -1;\n          }\n          if (fa > fb) {\n            return 1;\n          }\n          return 0;\n        }\n      });\n      if (!this.ascending) {\n        lessonsArray.reverse();\n      }\n      return lessonsArray;\n    }\n  }\n};","map":{"version":3,"names":["name","props","data","ascending","sortBy","searchValue","methods","addToCart","lesson","console","log","id","$emit","canAddToCart","availableLessons","computed","sortedLessons","lessonsArray","lessons","slice","filter","item","title","toUpperCase","includes","location","sort","a","b","fa","toLowerCase","fb","price","reverse"],"sources":["src/components/LessonsList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <link rel=\"stylesheet\" href=\"styles.css\">\r\n        <div class=\"col-md-12 p-8 align-self-center\">\r\n                  <form class=\"d-flex\" role=\"search\">\r\n                    \r\n                    <input class=\"form-control  bg-light\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" v-model=\"searchValue\" id=\"search-input\">\r\n                  </form>\r\n                \r\n                  </div>\r\n         <!-- sort and filter toolbar -->\r\n         <div  class=\"btn-toolbar justify-content-evenly\" role=\"toolbar\">\r\n          \r\n            <p class=\"sort-label\">Sort By:</p>\r\n         <select name=\"sortBy\" id=\"sort-btn\" v-model=\"sortBy\" class=\"form-select-lg   \" aria-label=\".form-select-lg example\">\r\n           <option class=\"text-center\" value=\"subject\">Subject</option>\r\n           <option class=\"text-center\" value=\"location\">Location</option>\r\n           <option class=\"text-center\" value=\"availability\">Availability</option>\r\n           <option class=\"text-center\" value=\"price\">Price</option>             \r\n         </select>\r\n          <p class=\"sort-label\"> Sort In:</p>\r\n         <button id=\"sort-btn\" type=\"button\" class=\"btn btn-warning\" v-on:click=\"ascending = !ascending\" >\r\n            <span v-if=\"ascending\" class=\"fa fa-sort-up\">Ascending</span>\r\n           <span v-else class=\"fa fa-sort-down\">Descending</span>\r\n         </button>\r\n       </div>  \r\n        \r\n        <!-- lessons cards  -->\r\n          \r\n              <!-- for loop to display all lessons -->\r\n              <div class=\"row row-cols-1 row-cols-md-3 g-3\" id=\"lessons\"  >\r\n                <div v-for=\"lesson in sortedLessons\" :key=\"lesson.id\">\r\n                <div id=\"lesson\" class=\"card mb-3\" style=\"max-width: 540px;\">\r\n                    <div class=\"row g-0\">\r\n                      <div class=\"col-md-6 p-4\">\r\n                        <img v-bind:src=\"lesson.image\" class=\"img-fluid rounded-start\" alt=\"Math Lesson Icon\">\r\n                      </div>\r\n                      <div class=\"col-md-6\">\r\n                        <div class=\"card-body\">\r\n                          <h5 class=\"card-title text-light\" v-text=\"lesson.title\"></h5>\r\n                          <p class=\"card-text text-light\"><small class=\"text-light--muted\"  v-text=\"lesson.description\"></small></p>\r\n                          <p class=\"card-text text-light\" >Cost: <b>{{lesson.price}}</b>  dhs/month.</p>\r\n                          <p class=\"card-text text-light\"><small class=\"text-light--muted\"  >Location: {{lesson.location}}</small></p>\r\n                          <p class=\"card-text text-light\"><small class=\"text-light--muted\">Spaces: {{lesson.availableLessons}}</small></p>\r\n                          <button v-on:click=\"addToCart(lesson)\" v-if='canAddToCart(lesson)' type=\"button\" class=\"btn btn-outline-warning\"><span class=\"fas fa-cart-plus\"></span> Add to cart</button>\r\n                          <button disabled=\"disabled\" v-else type=\"button\" class=\"btn btn-secondary\"><span class=\"fas fa-cart-plus\"></span> Add to cart</button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n              </div>\r\n           \r\n          \r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    name: \"LessonsList\",\r\n    props:['lessons'],\r\n    data () {\r\n      return {\r\n        ascending: true,\r\n        sortBy: 'subject',\r\n        searchValue: ''\r\n      }\r\n    },\r\n    methods: {\r\n        addToCart(lesson) {\r\n            console.log(\"added lesson\", lesson.id)\r\n            this.$emit('addLesson', lesson)\r\n        },\r\n        canAddToCart(lesson){\r\n            return lesson.availableLessons > 0\r\n        },\r\n        // check number of items in cart\r\n       \r\n        \r\n\r\n        \r\n    },\r\n    computed:  {\r\n        // sort lessons array\r\n        sortedLessons() {\r\n                let lessonsArray = this.lessons.slice(0)\r\n                \r\n                  // Process search input\r\n                  if (this.searchValue != '' && this.searchValue) {\r\n                  lessonsArray = lessonsArray.filter((item) => {\r\n                    return item.title\r\n                      .toUpperCase()\r\n                        .includes(this.searchValue.toUpperCase()) \r\n                        || item.location\r\n                        .toUpperCase()\r\n                        .includes(this.searchValue.toUpperCase())\r\n                  })\r\n                }\r\n                  lessonsArray = lessonsArray.sort((a,b) => {\r\n                    if (this.sortBy === 'subject') {\r\n                      let fa = a.title.toLowerCase(), fb = b.title.toLowerCase();\r\n                      if (fa < fb) {\r\n                        return -1\r\n                      }\r\n                    if (fa > fb) {\r\n                      return 1\r\n                    }\r\n                    return 0\r\n                  } else if (this.sortBy === 'price') {\r\n                    return a.price - b.price\r\n                  } else if (this.sortBy === 'availability') {\r\n                    return a.availableLessons - b.availableLessons\r\n                  } else if(this.sortBy === 'location') {\r\n                    let fa = a.location.toLowerCase(), fb = b.location.toLowerCase();\r\n                      if (fa < fb) {\r\n                        return -1\r\n                      }\r\n                    if (fa > fb) {\r\n                      return 1\r\n                    }\r\n                    return 0\r\n                  }\r\n                \r\n                })\r\n\r\n                if(!this.ascending) {\r\n                  lessonsArray.reverse()\r\n                }\r\n                return lessonsArray\r\n              }\r\n    }\r\n\r\n}\r\n</script>"],"mappings":"AA2DA;EACAA,IAAA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,MAAA;MACAC,WAAA;IACA;EACA;EACAC,OAAA;IACAC,UAAAC,MAAA;MACAC,OAAA,CAAAC,GAAA,iBAAAF,MAAA,CAAAG,EAAA;MACA,KAAAC,KAAA,cAAAJ,MAAA;IACA;IACAK,aAAAL,MAAA;MACA,OAAAA,MAAA,CAAAM,gBAAA;IACA;IACA;EAKA;;EACAC,QAAA;IACA;IACAC,cAAA;MACA,IAAAC,YAAA,QAAAC,OAAA,CAAAC,KAAA;;MAEA;MACA,SAAAd,WAAA,eAAAA,WAAA;QACAY,YAAA,GAAAA,YAAA,CAAAG,MAAA,CAAAC,IAAA;UACA,OAAAA,IAAA,CAAAC,KAAA,CACAC,WAAA,GACAC,QAAA,MAAAnB,WAAA,CAAAkB,WAAA,OACAF,IAAA,CAAAI,QAAA,CACAF,WAAA,GACAC,QAAA,MAAAnB,WAAA,CAAAkB,WAAA;QACA;MACA;MACAN,YAAA,GAAAA,YAAA,CAAAS,IAAA,EAAAC,CAAA,EAAAC,CAAA;QACA,SAAAxB,MAAA;UACA,IAAAyB,EAAA,GAAAF,CAAA,CAAAL,KAAA,CAAAQ,WAAA;YAAAC,EAAA,GAAAH,CAAA,CAAAN,KAAA,CAAAQ,WAAA;UACA,IAAAD,EAAA,GAAAE,EAAA;YACA;UACA;UACA,IAAAF,EAAA,GAAAE,EAAA;YACA;UACA;UACA;QACA,gBAAA3B,MAAA;UACA,OAAAuB,CAAA,CAAAK,KAAA,GAAAJ,CAAA,CAAAI,KAAA;QACA,gBAAA5B,MAAA;UACA,OAAAuB,CAAA,CAAAb,gBAAA,GAAAc,CAAA,CAAAd,gBAAA;QACA,gBAAAV,MAAA;UACA,IAAAyB,EAAA,GAAAF,CAAA,CAAAF,QAAA,CAAAK,WAAA;YAAAC,EAAA,GAAAH,CAAA,CAAAH,QAAA,CAAAK,WAAA;UACA,IAAAD,EAAA,GAAAE,EAAA;YACA;UACA;UACA,IAAAF,EAAA,GAAAE,EAAA;YACA;UACA;UACA;QACA;MAEA;MAEA,UAAA5B,SAAA;QACAc,YAAA,CAAAgB,OAAA;MACA;MACA,OAAAhB,YAAA;IACA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}